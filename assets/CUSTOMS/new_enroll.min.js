$(document).ready(function(){if($('input[name="tgllhr"], input[name="schoolstarts"]').inputmask("99/99/9999",{clearMaskOnLostFocus:!1}),$('input[name="housephone"]').inputmask("(9999) 999-999",{clearMaskOnLostFocus:!1}),$('input[name="handheldnumber"]').inputmask("(+62) 999-9999-9999",{clearMaskOnLostFocus:!1}),$("body").is(".new_enroll")){var a,e,n,i,t,r,m,l,o,c,u,p,s,v,h,d,f,g,_,k,b,y,C,x,w,j,S,O,T,E,M,N,F,P,B,G,L,R,A,D,I,K,H,J,U,W,Y,q,z,Q,V,X,Z,aa,ea,na,ia,ta,ra,ma,la,oa,$a,ca,ua,pa,sa,va,ha,da,fa,ga,_a,ka,ba,ya,Ca,xa,wa,ja,Sa,Oa,Ta;function Ea(){a=$('input[name="fname"]').val(),e=$('input[name="mname"]').val(),n=$('input[name="lname"]').val(),i=$('input[name="nname"]').val(),t=$('input[name="gender"]:checked').val(),r=$('input[name="nisn"]').val(),m=$('input[name="nik"]').val(),l=$('input[name="kk"]').val(),o=$('input[name="tgllhr"]').val(),c=$('input[name="tmplhr"]').val(),u=$('input[name="akta"]').val(),p=$('select[name="religion"]').val(),s=$('select[name="country"]').val(),v=$('input[name="disabled"]').val(),h=$('input[name="address"]').val(),d=$('input[name="rt"]').val(),f=$('input[name="rw"]').val(),g=$('input[name="dusun"]').val(),_=$('input[name="village"]').val(),k=$('input[name="district"]').val(),b=$('input[name="region"]').val(),y=$('input[name="postal"]').val(),C=$('select[name="livewith"]').val(),x=$('select[name="transport"]').val(),w=$('input[name="lintang"]').val(),j=$('input[name="bujur"]').val(),S=$('input[name="child"]').val(),O=$('input[name="kip"]:checked').val(),T=$('input[name="keepkip"]:checked').val(),E=$('select[name="refusepip"]').val(),M=$('input[name="housephone"]').val(),N=$('input[name="handheldnumber"]').val(),F=$('input[name="email"]').val(),P=$('input[name="father"]').val(),B=$('input[name="fathernik"]').val(),G=$('input[name="fatheryear"]').val(),L=$('select[name="fatherdegree"]').val(),R=$('select[name="fatherjob"]').val(),A=$('select[name="fatherincome"]').val(),D=$('input[name="fatherdisabled"]').val(),I=$('input[name="mother"]').val(),K=$('input[name="mothernik"]').val(),H=$('input[name="motheryear"]').val(),J=$('select[name="motherdegree"]').val(),U=$('select[name="motherjob"]').val(),W=$('select[name="motherincome"]').val(),Y=$('input[name="motherdisabled"]').val(),q=$('input[name="guardian"]').val(),z=$('input[name="guardiannik"]').val(),Q=$('input[name="guardianyear"]').val(),V=$('select[name="guardiandegree"]').val(),X=$('select[name="guardianjob"]').val(),Z=$('select[name="guardianincome"]').val(),aa=$('input[name="guardiandisabled"]').val(),ea=$('input[name="height"]').val(),na=$('input[name="weight"]').val(),ia=$('input[name="headdiameter"]').val(),ta=$('input[name="range"]:checked').val(),ra=$('input[name="exactrange"]').val(),ma=$('input[name="timerange"]').val(),la=$('input[name="siblings"]').val(),oa=$('input[name="achievement"]:checked').val(),$a=$('input[name="achievementlevel"]:checked').val(),ca=$('input[name="ach_name"]').val(),ua=$('input[name="ach_year"]').val(),pa=$('input[name="sponsor"]').val(),sa=$('input[name="ach_rank"]').val(),va=$('input[name="scholarship"]:checked').val(),ha=$('input[name="scholardesc"]').val(),da=$('input[name="scholarstart"]').val(),fa=$('input[name="scholarfinish"]').val(),ga=$('select[name="prosperity"]').val(),_a=$('input[name="prospernumber"]').val(),ka=$('input[name="prospernametag"]').val(),ba=$('input[name="competition"]').val(),ya=$('input[name="registration"]:checked').val(),Ca=$('input[name="nis"]').val(),xa=$('[name="applying"]').val(),wa=$('input[name="schoolstarts"]').val(),ja=$('input[name="previousschool"]').val(),Sa=$('input[name="unnumber"]').val(),Oa=$('input[name="diploma"]').val(),Ta=$('input[name="skhun"]').val()}function Ma(){$('input[name="confirm_fname"]').val(`${a}`),$('input[name="confirm_mname"]').val(`${e}`),$('input[name="confirm_lname"]').val(`${n}`),$('input[name="confirm_nname"]').val(`${i}`),$(`input[name="confirm_gender"][value="${t}"]`).attr("checked","checked"),$('input[name="confirm_nisn"]').val(`${r}`),$('input[name="confirm_nik"]').val(`${m}`),$('input[name="confirm_kk"]').val(`${l}`),$('input[name="confirm_tgllhr"]').val(`${o}`),$('input[name="confirm_tmplhr"]').val(`${c}`),$('input[name="confirm_akta"]').val(`${u}`),$('input[name="confirm_religion"]').val(`${p}`),$('input[name="confirm_country"]').val(`${s}`),$('input[name="confirm_disabled"]').val(`${v}`),$('input[name="confirm_address"]').val(`${h}`),$('input[name="confirm_rt"]').val(`${d}`),$('input[name="confirm_rw"]').val(`${f}`),$('input[name="confirm_dusun"]').val(`${g}`),$('input[name="confirm_village"]').val(`${_}`),$('input[name="confirm_district"]').val(`${k}`),$('input[name="confirm_region"]').val(`${b}`),$('input[name="confirm_postal"]').val(`${y}`),$('input[name="confirm_livewith"]').val(`${C}`),$('input[name="confirm_transport"]').val(`${x}`),$('input[name="confirm_lintang"]').val(`${w}`),$('input[name="confirm_bujur"]').val(`${j}`),$('input[name="confirm_child"]').val(`${S}`),$(`input[name="confirm_kip"][value="${O}"]`).attr("checked","checked"),$(`input[name="confirm_keepkip"][value="${T}"]`).attr("checked","checked"),$('input[name="confirm_refusepip"]').val(`${E}`),$('input[name="confirm_housephone"]').val(`${M}`),$('input[name="confirm_handheldnumber"]').val(`${N}`),$('input[name="confirm_email"]').val(`${F}`),$('input[name="confirm_father"]').val(`${P}`),$('input[name="confirm_fathernik"]').val(`${B}`),$('input[name="confirm_fatheryear"]').val(`${G}`),$('input[name="confirm_fatherdegree"]').val(`${L}`),$('input[name="confirm_fatherjob"]').val(`${R}`),$('input[name="confirm_fatherincome"]').val(`${A}`),$('input[name="confirm_fatherdisabled"]').val(`${D}`),$('input[name="confirm_mother"]').val(`${I}`),$('input[name="confirm_mothernik"]').val(`${K}`),$('input[name="confirm_motheryear"]').val(`${H}`),$('input[name="confirm_motherdegree"]').val(`${J}`),$('input[name="confirm_motherjob"]').val(`${U}`),$('input[name="confirm_motherincome"]').val(`${W}`),$('input[name="confirm_motherdisabled"]').val(`${Y}`),$('input[name="confirm_guardian"]').val(`${q}`),$('input[name="confirm_guardiannik"]').val(`${z}`),$('input[name="confirm_guardianyear"]').val(`${Q}`),$('input[name="confirm_guardiandegree"]').val(`${V}`),$('input[name="confirm_guardianjob"]').val(`${X}`),$('input[name="confirm_guardianincome"]').val(`${Z}`),$('input[name="confirm_guardiandisabled"]').val(`${aa}`),$('input[name="confirm_height"]').val(`${ea}`),$('input[name="confirm_weight"]').val(`${na}`),$('input[name="confirm_headdiameter"]').val(`${ia}`),$(`input[name="confirm_range"][value="${ta}"]`).attr("checked","checked"),$('input[name="confirm_exactrange"]').val(`${ra}`),$('input[name="confirm_timerange"]').val(`${ma}`),$('input[name="confirm_siblings"]').val(`${la}`),$(`input[name="confirm_achievement"][value="${oa}"]`).attr("checked","checked"),$(`input[name="confirm_achievementlevel"][value="${$a}"]`).attr("checked","checked"),$('input[name="confirm_ach_name"]').val(`${ca}`),$('input[name="confirm_ach_year"]').val(`${ua}`),$('input[name="confirm_sponsor"]').val(`${pa}`),$('input[name="confirm_ach_rank"]').val(`${sa}`),$(`input[name="confirm_scholarship"][value="${va}"]`).attr("checked","checked"),$('input[name="confirm_scholardesc"]').val(`${ha}`),$('input[name="confirm_scholarstart"]').val(`${da}`),$('input[name="confirm_scholarfinish"]').val(`${fa}`),$('input[name="confirm_prosperity"]').val(`${ga}`),$('input[name="confirm_prospernumber"]').val(`${_a}`),$('input[name="confirm_prospernametag"]').val(`${ka}`),$('input[name="confirm_competition"]').val(`${ba}`),$(`input[name="confirm_registration"][value="${ya}"]`).attr("checked","checked"),$('input[name="confirm_nis"]').val(`${Ca}`),$('input[name="confirm_applying"]').val(`${xa}`),$('input[name="confirm_schoolstarts"]').val(`${wa}`),$('input[name="confirm_previousschool"]').val(`${ja}`),$('input[name="confirm_unnumber"]').val(`${Sa}`),$('input[name="confirm_diploma"]').val(`${Oa}`),$('input[name="confirm_skhun"]').val(`${Ta}`)}$.ajax({url:`${base_url}assets/CUSTOMS/countries.json`,method:"GET",dataType:"JSON",success:function(a){for(let e=0;e<a.length;e++)"Indonesia"===a[e].name?$('select[name="country"]').append(`<option value="${a[e].name}" selected> ${a[e].name} </option>`):$('select[name="country"]').append(`<option value="${a[e].name}"> ${a[e].name} </option>`)},error:function(){console.log("ERROR")}}),$('input[type="text"], input[type="date"], input[type="number"], select option:selected').focusout(function(){if(""==$(this).val()||"-"==$(this).val()){$(this).parent(".form-group").removeClass("has-success"),$(this).parent(".form-group").addClass("has-error");let a=$(this).closest(".help-block");a.addClass("has-error"),a.css("opacity","1")}else $(this).parent(".form-group").removeClass("has-error"),$(this).parent(".form-group").addClass("has-success")}),$('input[type="radio"]').click(function(){if($(this).is(":checked")){let a=$(this).attr("name");$(`input[name="${a}"]`).closest(".md-radio").removeClass("has-error")}}),$('input[name="kip"]').click(function(){"no"==$(this).val()?$('input[name="keepkip"]').attr("disabled","disabled"):$('input[name="keepkip"]').removeAttr("disabled")}),$('input[name="range"]').on("change",function(){"< 1 KM"==$(this).val()?$(".meters").text("(Meter)"):$(".meters").text("(Kilometer)")}),$("li").children("a").on("click",function(){Ea(),"#tab4"==$(this).attr("href")&&Ma()}),$(".button-next").on("click",function(){let e=$(this).parents(".tab-pane").attr("id"),i=$(`#${e}`).next().attr("id");var xa;Ea(),"tab1"==e?($(".step-title").text("STEP 2 OF 4"),xa=[a,n,t,r,m,l,o,c,u,p,s,v,h,d,f,g,_,k,b,y,C,x,w,j,S,O,T,E,M,N,F,P,B,G,L,R,A,D,I,K,H,J,U,W,Y,q,z,Q,V,X,Z,aa]):"tab2"==e?($(".step-title").text("STEP 3 OF 4"),xa=[ea,na,ia,ta,ra,ma,la,oa,$a,ca,ua,pa,sa,va,ha,da,fa,ga,_a,ka]):"tab3"==e&&($(".step-title").text("STEP 4 OF 4"),xa=[ba,ya,Ca,wa,ja,Sa,Oa,Ta],Ma()),console.dir(xa),$(`a[href="#${e}"]`).parent("li").removeClass("active"),$(`a[href="#${e}"]`).parent("li").addClass("done"),$(`#${e}`).removeClass("active"),$(`a[href="#${i}"]`).parent("li").addClass("active"),$(`#${i}`).addClass("active"),"tab4"===i&&$(".progress-bar").addClass("progress-bar-success"),$("html, body").animate({scrollTop:0},750)}),$(".button-back").click(function(){let a=$(this).parents(".tab-pane").attr("id"),e=$(`#${a}`).prev().attr("id"),n=$(`a[href="#${e}"]`).children(".number").text(),i=n/4*100;console.log(`${a} | ${e} | ${n}`),$(`a[href="#${a}"]`).parent("li").removeClass("active"),$(`#${a}`).removeClass("active"),$(`a[href="#${e}"]`).parent("li").addClass("active"),$(`#${e}`).addClass("active"),$(".progress-bar .progress-bar-success").css("width",`${i}% !important`),$("html, body").animate({scrollTop:0},750)}),$(".button-submit").click(function(){Swal.fire({title:"Lanjutkan?",text:"Pastikan data telah sesuai dengan form yang diminta sebelum dikirim!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya"}).then(Ea=>{"no"==O?T="-":void 0===O?O="None":T="-",void 0===oa&&(oa="None"),void 0===$a&&($a="None"),void 0===va&&(va="None"),Ea.value&&$.ajax({url:"Enrollment/enroll_confirmed",method:"POST",data:{fname:a,mname:e,lname:n,nname:i,gender:t,nisn:r,nik:m,kk:l,tgllhr:o,tmplhr:c,akta:u,religion:p,country:s,disabled:v,address:h,rt:d,rw:f,dusun:g,village:_,district:k,region:b,postal:y,livewith:C,transport:x,lintang:w,bujur:j,child:S,kip:O,keepkip:T,refusepip:E,housephone:M,handheldnumber:N,email:F,father:P,fathernik:B,fatheryear:G,fatherdegree:L,fatherjob:R,fatherincome:A,fatherdisabled:D,mother:I,mothernik:K,motheryear:H,motherdegree:J,motherjob:U,motherincome:W,motherdisabled:Y,guardian:q,guardiannik:z,guardianyear:Q,guardiandegree:V,guardianjob:X,guardianincome:Z,guardiandisable:aa,height:ea,weight:na,headdiameter:ia,range:ta,exactrange:ra,timerange:ma,siblings:la,achievement:oa,achievementlevel:$a,ach_name:ca,ach_year:ua,sponsor:pa,ach_rank:sa,scholarship:va,scholardesc:ha,scholarstart:da,scholarfinish:fa,prosperity:ga,prospernumber:_a,prospernametag:ka,competition:ba,registration:ya,nis:Ca,applying:xa,schoolstarts:wa,previousschool:ja,unnumber:Sa,diploma:Oa,skhun:Ta},success:function(a){"success"==a?Swal.fire({type:"success",title:"Berhasil",text:"Anda telah berhasil mendaftar lewat Sistem sekolah"}):(Swal.fire({type:"error",title:"Gagal mendaftarkan Diri Anda",text:"Pastikan Data yang anda masukan telah sesuai dengan form yang diminta"}),console.log(a))},error:function(a){alert("SOMETHING'S WRONG"),console.log(a.responseText)}})})})}});