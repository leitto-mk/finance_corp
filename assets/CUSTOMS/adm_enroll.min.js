$(document).ready(function(){window.location.pathname;if($("div").is(".enroll")){function e(e){$.ajax({url:"get_list_enroll/"+e,method:"GET",datatype:"JSON",success:function(e){var n=JSON.parse(e);$(".enroll-list").empty(),$(".enroll-list").append(n.value),$(".enroll-list").append(n.page)},error:function(e){alert(e)}})}var n;$(".enroll-list").on("click",".detail",e=>{let n=e.target.getAttribute("data-id");$.ajax({url:"new_student_details",method:"POST",dataType:"JSON",data:{ctrlno:n},success:e=>{document.getElementById("fullname").innerHTML=`${e.FirstName} ${e.MiddleName} ${e.LastName}`,document.getElementById("pointofbirth").innerHTML=`${e.PointofBirth}`,document.getElementById("nickname").innerHTML=`${e.NickName}`,document.getElementById("religion").innerHTML=`${e.Religion}`,document.getElementById("nik").innerHTML=`${e.NIK}`,document.getElementById("height").innerHTML=`${e.Height}`,document.getElementById("gender").innerHTML=`${e.Gender}`,document.getElementById("weight").innerHTML=`${e.Weight}`,document.getElementById("dateofbirth").innerHTML=`${e.DateofBirth}`,document.getElementById("headsize").innerHTML=`${e.HeadDiameter}`,document.getElementById("livewith").innerHTML=`${e.LiveWith}`,document.getElementById("postal").innerHTML=`${e.Postal}`,document.getElementById("transportation").innerHTML=`${e.Transportation}`,document.getElementById("houserange").innerHTML=`${e.Range}`,document.getElementById("address").innerHTML=`${e.Address}`,document.getElementById("exactrange").innerHTML=`${e.ExactRange}`,document.getElementById("rt").innerHTML=`${e.RT}`,document.getElementById("traveltime").innerHTML=`${e.TimeRange}`,document.getElementById("rw").innerHTML=`${e.RW}`,document.getElementById("latitude").innerHTML=`${e.Latitude}`,document.getElementById("village").innerHTML=`${e.Village}`,document.getElementById("longitude").innerHTML=`${e.Longitude}`,document.getElementById("district").innerHTML=`${e.District}`,document.getElementById("email").innerHTML=`${e.Email}`,document.getElementById("region").innerHTML=`${e.Region}`,document.getElementById("housenumber").innerHTML=`${e.HousePhone}`,document.getElementById("country").innerHTML=`${e.Country}`,document.getElementById("phone").innerHTML=`${e.Phone}`,document.getElementById("nis").innerHTML=`${e.NIS}`,document.getElementById("competent").innerHTML=`${e.Competition}`,document.getElementById("previousschool").innerHTML=`${e.PreviousSchool}`,document.getElementById("diploma").innerHTML=`${e.Diploma}`,document.getElementById("achievement").innerHTML=`${e.Achievement}`,document.getElementById("achievementlevel").innerHTML=`${e.AchievementLVL}`,document.getElementById("achievementname").innerHTML=`${e.AchievementName}`,document.getElementById("achievementyear").innerHTML=`${e.AchievementYear}`,document.getElementById("sponsor").innerHTML=`${e.Sponsor}`,document.getElementById("achievementrank").innerHTML=`${e.AchievementRank}`,document.getElementById("scholarship").innerHTML=`${e.Scholarship}`,document.getElementById("scholardesc").innerHTML=`${e.Scholardesc}`,document.getElementById("scholarstart").innerHTML=`${e.Scholarstart}`,document.getElementById("scholarend").innerHTML=`${e.Scholarfinish}`,document.getElementById("prosper").innerHTML=`${e.Prosperity}`,document.getElementById("prospernum").innerHTML=`${e.ProsperNumber}`,document.getElementById("prospername").innerHTML=`${e.ProsperNameTag}`,document.getElementById("fathername").innerHTML=`${e.Father}`,document.getElementById("mothername").innerHTML=`${e.Mother}`,document.getElementById("guardianname").innerHTML=`${e.Guardian}`,document.getElementById("fatherid").innerHTML=`${e.FatherNIK}`,document.getElementById("motherid").innerHTML=`${e.MotherNIK}`,document.getElementById("guardianid").innerHTML=`${e.GuardianNIK}`,document.getElementById("fatherborn").innerHTML=`${e.FatherBorn}`,document.getElementById("motherborn").innerHTML=`${e.MotherBorn}`,document.getElementById("guardianborn").innerHTML=`${e.GuardianBorn}`,document.getElementById("fatherdegree").innerHTML=`${e.FatherDegree}`,document.getElementById("motherdegree").innerHTML=`${e.MotherDegree}`,document.getElementById("guardiandegree").innerHTML=`${e.GuardianDegree}`,document.getElementById("fatherjob").innerHTML=`${e.FatherJob}`,document.getElementById("motherjob").innerHTML=`${e.MotherJob}`,document.getElementById("guardianjob").innerHTML=`${e.GuardianJob}`,document.getElementById("fatherearn").innerHTML=`${e.FatherIncome}`,document.getElementById("motherearn").innerHTML=`${e.MotherIncome}`,document.getElementById("guardianearn").innerHTML=`${e.GuardianIncome}`,document.getElementById("fatherdisable").innerHTML=`${e.FatherDisability}`,document.getElementById("motherdisable").innerHTML=`${e.MotherDisability}`,document.getElementById("guardiandisable").innerHTML=`${e.GuardianDisability}`},error:e=>{console.log(e.responseText)}}),$("#profile_detail").modal("show")}),e(1),$(".enroll-list").on("click",".pagin",function(n){n.preventDefault(),e($(this).attr("data-ci-pagination-page"))}),$(".enroll-list").on("click",".approve",function(){let e=$(this).attr("data-apply"),t=$(this).closest("tr").attr("data-list");$("#new-std").modal("show"),$.ajax({url:"get_dropdown_apply",method:"POST",data:{apply:e},success:e=>{$(".approve_std").empty(),$(".approve_std").append(e),n=t}})}),$("#new-std").on("click",".set_approve",function(){let e=$('select[name="room"]').val();$.ajax({url:"approve_list",method:"POST",data:{uniq:n,room:e},success:function(t){Swal.fire({type:"success",title:"Success",text:`New Student has been approved and appointed to Class ${e}`}),$("#new-std").modal("hide"),$(`tr[data-list="${n}"]`).remove()},error:function(){alert("SOMETHING'S WRONG")}})}),$(".enroll-list").on("click",".cancel",function(){let e=$(this).closest("tr"),n=e.attr("data-list");Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"delete"}).then(t=>{t.value&&$.ajax({url:"cancel_list",method:"POST",data:{uniq:n},success:function(n){e.fadeOut(750,function(){e.remove(),$(".enroll-total").attr("data-value",n),$(".enroll-total").text(n)}),Swal.fire("Deleted!","Data has been deleted.","success")}})})})}});