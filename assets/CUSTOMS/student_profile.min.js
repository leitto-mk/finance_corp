$(document).ready(function(){if("student"==$("body").attr("data-status")){function e(e,t,o){$(".sch_caption").html(`SCHEDULE CLASS "${fullname} | ${e}", Semester ${t} - Period ${o}`),$.ajax({url:"get_full_acd_detail",method:"POST",data:{id:e,semester:t,period:o},dataType:"JSON",success:e=>{$(".sch_tbody").html(e.SCH),$(".grade_report_tbody").html(e.COG),$(".skills_report_tbody").html(e.SK),$(".soc_report_tbody").html(e.SOC),$(".spr_report_tbody").html(e.SPR),$(".voc_report_tbody").html(e.VOC),$(".abs_tbody").html(e.ABS)},error:e=>{}})}$(".nav_profile").click(function(){$('a[href="#profile"]').trigger("click")}),$(".nav_chg_pass").click(function(){$('a[href="#account"]').trigger("click")}),$.ajax({url:"ajax_get_school_event",dataType:"JSON",success:e=>{let t=[];for(let o in e)t.push({name:e[o].Title,startDate:new Date(e[o].DateStart),endDate:new Date(e[o].DateEnd),color:e[o].Color});new Calendar(".calendar",{dataSource:t,mouseOnDay:function(e){if(e.events.length>0){var t="";for(var o in e.events)t+='<div class="event-tooltip-content"><div class="event-name" style="color:'+e.events[o].color+'">'+e.events[o].name+"</div>";$(e.element).popover({trigger:"manual",container:"body",html:!0,content:t}),$(e.element).popover("show")}},mouseOutDay:function(e){e.events.length>0&&$(e.element).popover("hide")},style:"background",displayWeekNumber:!0})},error:e=>console.log(e)}),$("#submit_pass").click(function(){let e=$("#oldpass").val(),t=$("#newpass").val(),o=$("#renewpass").val();console.table({oldpass:e,newpass:t,renewpass:o}),$.ajax({url:"chg_pass",method:"POST",data:{oldpass:e,newpass:t,renewpass:o},dataType:"JSON",success:e=>{console.log(e.pwd),$("#account").children(".form-group").removeClass("has-error","has-success"),"empty"==e.code?$("#account").children(".form-group").addClass("has-error"):"incorrect"==e.code?$("#oldpass").parent(".form-group").addClass("has-error"):"identical"==e.code?($("#oldpass").parent(".form-group").addClass("has-error"),$("#newpass").parent(".form-group").addClass("has-error")):"reconfirm"==e.code?($("#newpass").parent(".form-group").addClass("has-error"),$("#renewpass").parent(".form-group").addClass("has-error")):"success"==e.code&&$(".password").val(""),function(e,t,o){Swal.fire({type:e,title:t,text:o})}(e.type,e.title,e.text)},error:()=>{console.log("AJAX Schedule doesn't work properly")}})}),$('a[href="#full2"]').click(function(){let t=$("#select_period").children("option:selected").attr("data-sem"),o=$("#select_period").children("option:selected").attr("data-period");e(id,t,o)}),$("#select_period").change(function(){let t=$("#select_period").children("option:selected").attr("data-sem"),o=$("#select_period").children("option:selected").attr("data-period");e(id,t,o)})}});